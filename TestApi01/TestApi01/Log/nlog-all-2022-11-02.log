2022-11-02 12:07:03.4418|INFO|Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager|User profile is available. Using 'C:\Users\e4911449\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2022-11-02 12:07:03.9620|INFO|Microsoft.Hosting.Lifetime|Application started. Press Ctrl+C to shut down.
2022-11-02 12:07:03.9821|INFO|Microsoft.Hosting.Lifetime|Hosting environment: Development
2022-11-02 12:07:03.9821|INFO|Microsoft.Hosting.Lifetime|Content root path: C:\Desarrollo\APIs\TestApi01\TestApi01
2022-11-02 12:07:04.0114|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger  
2022-11-02 12:07:04.0715|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger/index.html  
2022-11-02 12:07:04.1431|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 131.8065ms 301 
2022-11-02 12:07:04.2242|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 153.5585ms 200 text/html;charset=utf-8
2022-11-02 12:07:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger/swagger-ui.css  
2022-11-02 12:07:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger/swagger-ui-bundle.js  
2022-11-02 12:07:04.2526|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger/swagger-ui-standalone-preset.js  
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 55.5663ms 200 application/javascript
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 55.8221ms 200 text/css
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware|Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-11-02 12:07:04.3061|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 60.6193ms 200 application/javascript
2022-11-02 12:07:04.6580|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/swagger/v1/swagger.json  
2022-11-02 12:07:04.7493|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 91.59ms 200 application/json;charset=utf-8
2022-11-02 12:07:56.8188|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request starting HTTP/2.0 GET https://localhost:44340/productos  
2022-11-02 12:07:56.8564|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executing endpoint 'TestApi01.Controllers.ProductosController.GetProductos (TestApi01)'
2022-11-02 12:07:56.9192|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Route matched with {action = "GetProductos", controller = "Productos"}. Executing controller action with signature System.Threading.Tasks.Task`1[System.Collections.Generic.IEnumerable`1[TestApi01.DTO.ProductoDTO]] GetProductos() on controller TestApi01.Controllers.ProductosController (TestApi01).
2022-11-02 12:07:57.2377|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor|Executing ObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TestApi01.Models.Producto, TestApi01, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TestApi01.DTO.ProductoDTO, TestApi01, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-11-02 12:07:57.2533|INFO|Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker|Executed action TestApi01.Controllers.ProductosController.GetProductos (TestApi01) in 329.2771ms
2022-11-02 12:07:57.2533|INFO|Microsoft.AspNetCore.Routing.EndpointMiddleware|Executed endpoint 'TestApi01.Controllers.ProductosController.GetProductos (TestApi01)'
2022-11-02 12:07:57.2533|INFO|Microsoft.AspNetCore.Hosting.Diagnostics|Request finished in 435.93ms 200 application/json; charset=utf-8
2022-11-02 12:22:08.4273|ERROR|TestApi01.Repository.ProductosSQLServer|System.Data.SqlClient.SqlException (0x80131904): El SKU ya existe en nuestro sistema
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader()
   at System.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at System.Data.SqlClient.SqlCommand.EndExecuteNonQuery(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location where exception was thrown ---
   at TestApi01.Repository.ProductosSQLServer.CrearProductoAsync(Producto producto) in C:\Desarrollo\APIs\TestApi01\TestApi01\Repository\ProductosSQLServer.cs:line 81
ClientConnectionId:a4ac9b3e-4337-4d4a-a45c-67d7b03e9fbe
Error Number:50000,State:1,Class:16
2022-11-02 12:22:13.3252|ERROR|Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware|An unhandled exception has occurred while executing the request.|System.Exception: Se produjo un error: El SKU ya existe en nuestro sistema
   at TestApi01.Tools.Error(Exception exception, ILogger log) in C:\Desarrollo\APIs\TestApi01\TestApi01\Tools.cs:line 38
   at TestApi01.Repository.ProductosSQLServer.CrearProductoAsync(Producto producto) in C:\Desarrollo\APIs\TestApi01\TestApi01\Repository\ProductosSQLServer.cs:line 87
   at TestApi01.Controllers.ProductosController.CrearProducto(ProductoDTO productoDTO) in C:\Desarrollo\APIs\TestApi01\TestApi01\Controllers\ProductosController.cs:line 55
   at lambda_method(Closure , Object )
   at Microsoft.Extensions.Internal.ObjectMethodExecutorAwaitable.Awaiter.GetResult()
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
